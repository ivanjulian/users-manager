(this["webpackJsonpusers-manager"]=this["webpackJsonpusers-manager"]||[]).push([[0],{138:function(e,t,a){e.exports=a(169)},165:function(e,t,a){},166:function(e,t,a){},167:function(e,t,a){},168:function(e,t,a){},169:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),s=a.n(c),u=a(33),i=a(124),o=a(115),l=a(116),d=a.n(l),m=a(23),p={loading:!1,users:[],error:""},E=Object(u.combineReducers)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USERS_REQUEST":return Object(m.a)({},e,{loading:!0});case"GET_USERS_SUCCESS":return Object(m.a)({},e,{loading:!1,users:t.payload,error:""});case"GET_USERS_FAILURE":return Object(m.a)({},e,{loading:!1,error:t.payload});default:return e}}}),b=a(9),f=a.n(b),v=a(27),O=a(8),h=a(39),j=a.n(h),S=function(e){return{type:"GET_USERS_SUCCESS",payload:e}},U=function(e){return{type:"GET_USERS_FAILURE",payload:e}},g=f.a.mark(T),x=f.a.mark(w),y=function(){var e=Object(v.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("http://77.120.241.80:8911/api/users");case 2:return t=e.sent,e.next=5,t.data;case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function T(){var e;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(O.b)(y);case 3:return e=t.sent,t.next=6,Object(O.d)(S(e));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(O.d)(U(t.t0));case 12:case"end":return t.stop()}}),g,null,[[0,8]])}function w(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.e)("GET_USERS_REQUEST",T);case 2:case"end":return e.stop()}}),x)}var _=f.a.mark(C),R=f.a.mark(N),k=function(){var e=Object(v.a)(f.a.mark((function e(t){var a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json"},n=JSON.stringify(t.payload),e.next=4,j.a.post("http://77.120.241.80:8911/api/users",n,{headers:a});case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function C(e){var t,a;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(O.b)(k,e);case 3:return t=n.sent,n.next=6,Object(O.d)({type:"POST_USER_SUCCESS",payload:t});case 6:return n.next=8,Object(O.b)(y);case 8:return a=n.sent,n.next=11,Object(O.d)(S(a));case 11:n.next=19;break;case 13:return n.prev=13,n.t0=n.catch(0),n.next=17,Object(O.d)({type:"POST_USER_FAILURE",payload:n.t0});case 17:return n.next=19,Object(O.d)(U(n.t0));case 19:case"end":return n.stop()}}),_,null,[[0,13]])}function N(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.e)("POST_USER_REQUEST",C);case 2:case"end":return e.stop()}}),R)}var P=f.a.mark(L),D=f.a.mark(W),F=function(){var e=Object(v.a)(f.a.mark((function e(t){var a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json"},n=t.payload,e.next=4,j.a.delete("http://77.120.241.80:8911/api/user/".concat(n),n,{headers:a});case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function L(e){var t,a;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(O.b)(F,e);case 3:return t=n.sent,n.next=6,Object(O.d)({type:"DELETE_USER_SUCCESS",payload:t});case 6:return n.next=8,Object(O.b)(y);case 8:return a=n.sent,n.next=11,Object(O.d)(S(a));case 11:n.next=19;break;case 13:return n.prev=13,n.t0=n.catch(0),n.next=17,Object(O.d)({type:"DELETE_USER_FAILURE",payload:n.t0});case 17:return n.next=19,Object(O.d)(U(n.t0));case 19:case"end":return n.stop()}}),P,null,[[0,13]])}function W(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.e)("DELETE_USER_REQUEST",L);case 2:case"end":return e.stop()}}),D)}var Q=f.a.mark(G),B=f.a.mark(M),z=function(){var e=Object(v.a)(f.a.mark((function e(t){var a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json"},n=JSON.stringify(t.payload),e.next=4,j.a.put("http://77.120.241.80:8911/api/user/".concat(t.payload.id),n,{headers:a});case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function G(e){var t,a;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(O.b)(z,e);case 3:return t=n.sent,n.next=6,Object(O.d)({type:"PUT_USER_SUCCESS",payload:t});case 6:return n.next=8,Object(O.b)(y);case 8:return a=n.sent,n.next=11,Object(O.d)(S(a));case 11:n.next=19;break;case 13:return n.prev=13,n.t0=n.catch(0),n.next=17,Object(O.d)({type:"PUT_USER_FAILURE",payload:n.t0});case 17:return n.next=19,Object(O.d)(U(n.t0));case 19:case"end":return n.stop()}}),Q,null,[[0,13]])}function M(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.e)("PUT_USER_REQUEST",G);case 2:case"end":return e.stop()}}),B)}var V=f.a.mark(q);function q(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.a)([Object(O.c)(w)]);case 2:return e.next=4,Object(O.a)([Object(O.c)(N)]);case 4:return e.next=6,Object(O.a)([Object(O.c)(W)]);case 6:return e.next=8,Object(O.a)([Object(O.c)(M)]);case 8:case"end":return e.stop()}}),V)}var A=Object(i.a)(),I=Object(u.createStore)(E,Object(o.composeWithDevTools)(Object(u.applyMiddleware)(A,d.a)));A.run(q);var J=a(26),$=a(204),H=a(170),K=a(91),X=a(78),Y=a(57),Z=a(203),ee=a(209),te=a(54),ae=function(e){var t=Object(te.b)(),a=e.errors,c=e.touched,s=e.handleChange,u=e.isValid,i=e.setFieldTouched,o={name:"",surname:"",desc:""},l=Object(n.useState)(o),d=Object(J.a)(l,2),p=d[0],E=d[1],b=function(e,t){t.persist(),s(t),i(e,!0,!1),E(Object(m.a)({},p,Object(Y.a)({},t.target.name,t.target.value)))},O=function(){var e=Object(v.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:"POST_USER_REQUEST",payload:p});case 2:E(o);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),O()}},r.a.createElement(ee.a,{id:"name",name:"name",label:"Name",fullWidth:!0,margin:"dense",helperText:c.name?a.name:"",error:c.name&&Boolean(a.name),value:p.name,onChange:b.bind(null,"name")}),r.a.createElement(ee.a,{id:"surname",name:"surname",label:"Surname",fullWidth:!0,margin:"dense",helperText:c.surename?a.surename:"",error:c.surename&&Boolean(a.surename),value:p.surname,onChange:b.bind(null,"surname")}),r.a.createElement(ee.a,{id:"desc",name:"desc",label:"Desc",multiline:!0,rowsMax:4,variant:"outlined",fullWidth:!0,margin:"dense",helperText:c.desc?a.desc:"",error:c.desc&&Boolean(a.desc),value:p.desc,onChange:b.bind(null,"desc")}),r.a.createElement(Z.a,{type:"submit",fullWidth:!0,variant:"contained",disabled:!u,color:"primary",margin:"dense"},"Submit"))},ne=(a(165),X.a({name:X.b("Enter your name").required("Name is required").max(15,"Too much symbols, 15 allowed"),surname:X.b("Enter your surename").required("Surename is required").max(15,"Too much symbols, 15 allowed"),desc:X.b("Enter description").required("Description is required").max(180,"Too much symbols, 180 allowed")}));var re=function(){var e=Object(n.useState)({id:0,name:"",surname:"",desc:""}),t=Object(J.a)(e,2),a=t[0];return t[1],r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{className:"input-form-paper",elevation:3},r.a.createElement($.a,{variant:"h4",color:"primary",align:"center"},"Add User"),r.a.createElement(K.a,{initialValues:a,validationSchema:ne},(function(e){return r.a.createElement(ae,e)}))))},ce=a(202),se=a(208),ue=a(205),ie=a(206),oe=a(207);a(166);function le(e){var t=e.user,a=e.deleteUser,n=e.editUser;return r.a.createElement(ue.a,{className:"user-card"},r.a.createElement(ie.a,{className:"user-card-content"},r.a.createElement($.a,{variant:"body2",component:"p"},"Name: ",t.name),r.a.createElement($.a,{variant:"body2",component:"p"},"Surname: ",t.surname),r.a.createElement($.a,{variant:"body2",component:"p"},"Description: ",t.desc)),r.a.createElement(oe.a,{className:"user-card-actions"},r.a.createElement(Z.a,{size:"small",variant:"contained",color:"primary",margin:"dense",onClick:Object(v.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,void a(t.id);case 2:case"end":return e.stop()}}),e)})))},"Delete"),r.a.createElement(Z.a,{size:"small",variant:"contained",color:"primary",margin:"dense",onClick:function(){return n(t)}},"Edit")))}a(167);var de=function(e){var t=e.errors,a=e.touched,c=e.handleChange,s=e.isValid,u=e.setFieldTouched,i=e.putUser,o=e.editUser,l=e.user,d=Object(n.useState)({id:l.id,name:l.name,surname:l.surname,desc:l.desc}),p=Object(J.a)(d,2),E=p[0],b=p[1],f=function(e,t){t.persist(),c(t),u(e,!0,!1),b(Object(m.a)({},E,Object(Y.a)({},t.target.name,t.target.value))),console.log(E)};return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),o(l),i(E)}},r.a.createElement(ie.a,null,r.a.createElement(ee.a,{id:"name",name:"name",label:"Name",fullWidth:!0,margin:"dense",variant:"outlined",size:"small",helperText:a.name?t.name:"",error:a.name&&Boolean(t.name),defaultValue:E.name,onChange:f.bind(null,"name")}),r.a.createElement(ee.a,{id:"surname",name:"surname",label:"Surname",fullWidth:!0,margin:"dense",variant:"outlined",size:"small",helperText:a.surename?t.surename:"",error:a.surename&&Boolean(t.surename),defaultValue:E.surname,onChange:f.bind(null,"surname")}),r.a.createElement(ee.a,{id:"desc",name:"desc",label:"Desc",multiline:!0,rowsMax:4,variant:"outlined",size:"small",fullWidth:!0,margin:"dense",helperText:a.desc?t.desc:"",error:a.desc&&Boolean(t.desc),defaultValue:E.desc,onChange:f.bind(null,"desc")})),r.a.createElement(oe.a,{className:"edit-card-actions"},r.a.createElement(Z.a,{type:"submit",disabled:!s,size:"small",variant:"contained",color:"primary",margin:"dense"},"Save"),r.a.createElement(Z.a,{size:"small",variant:"contained",color:"primary",margin:"dense",onClick:function(){return o(l)}},"Cancel")))};function me(e){var t=e.putUser,a=e.editUser,c=e.user,s=e.loadUsers,u=Object(n.useState)({id:c.id,name:c.name,surname:c.surname,desc:c.desc}),i=Object(J.a)(u,2),o=i[0];i[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(ue.a,{className:"input-form-paper"},r.a.createElement($.a,{color:"primary",align:"center"},"Edit User"),r.a.createElement(K.a,{initialValues:o,validationSchema:ne},(function(e){return r.a.createElement(de,Object.assign({loadUsers:s,putUser:t,editUser:a,user:c},e))}))))}var pe=a(210),Ee=function(e){var t=e.pageNumbers,a=e.paginate,n=e.currentPage;return r.a.createElement(r.a.Fragment,null,r.a.createElement(pe.a,{count:t,page:n,onChange:function(e,t){a(t)}}))},be=function(e){var t=e.users,a=e.editMode,c=e.putUser,s=e.loadUsers,u=e.editUser,i=e.deleteUser,o=Object(n.useState)({currentPage:1,usersPerPage:5,currentUsers:[],pageNumbers:[]}),l=Object(J.a)(o,2),d=l[0],p=l[1],E=d.currentPage,b=d.usersPerPage,f=d.currentUsers,v=d.pageNumbers,O=E*b,h=O-b;return Object(n.useEffect)((function(){!function(){var e=Math.ceil(t.users.length/b),a=t.users.slice(h,O);p((function(t){return Object(m.a)({},t,{currentUsers:a,pageNumbers:e})})),console.log(d)}()}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee,{currentPage:E,pageNumbers:v,paginate:function(e){var a=e*b,n=a-b,r=t.users.slice(n,a);p((function(t){return Object(m.a)({},t,{currentPage:e,currentUsers:r})}))}}),r.a.createElement(ce.a,null,f.map((function(e){return a.isEdit&&e.id===a.idUserToEdit?r.a.createElement(se.a,{className:"user-li",key:e.id},r.a.createElement(me,{putUser:c,loadUsers:s,editUser:u,user:e})):r.a.createElement(se.a,{className:"user-li",key:e.id},r.a.createElement(le,{deleteUser:i,loadUsers:s,editUser:u,user:e}))}))))},fe=function(){var e=Object(te.c)((function(e){return e.users})),t=Object(te.b)(),a=function(){return t({type:"GET_USERS_REQUEST"})};Object(n.useEffect)((function(){a()}),[]);var c=Object(n.useState)({isEdit:!1,idUserToEdit:null}),s=Object(J.a)(c,2),u=s[0],i=s[1],o=Object(n.useState)({id:null,name:"",surname:"",desc:""}),l=Object(J.a)(o,2),d=l[0],p=l[1];Object(n.useEffect)((function(){a()}),[]);return r.a.createElement(r.a.Fragment,null,e.users?r.a.createElement(be,{users:e,editMode:u,putUser:function(e){return t(function(e){return{type:"PUT_USER_REQUEST",payload:e}}(e))},loadUsers:a,editUser:function(e){i(Object(m.a)({},u,{isEdit:!u.isEdit,idUserToEdit:e.id})),p(Object(m.a)({},d,{id:e.id}))},deleteUser:function(e){return t(function(e){return{type:"DELETE_USER_REQUEST",payload:e}}(e))}}):r.a.createElement("p",null,"Loading..."))};a(168);var ve=function(){return r.a.createElement(te.a,{store:I},r.a.createElement("div",{className:"app"},r.a.createElement(re,null),r.a.createElement(fe,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ve,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[138,1,2]]]);
//# sourceMappingURL=main.b1be015c.chunk.js.map